{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./empleado.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"../disable-control.directive\";\nimport * as i5 from \"../field-error-display/field-error-display.component\";\nfunction EmpleadoComponent_div_63_ng_container_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"tr\")(2, \"td\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\")(12, \"button\", 47);\n    i0.ɵɵlistener(\"click\", function EmpleadoComponent_div_63_ng_container_17_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const emp_r3 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r4.seleccionar(emp_r3));\n    });\n    i0.ɵɵtext(13, \"Seleccionar\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"td\")(15, \"button\", 47);\n    i0.ɵɵlistener(\"click\", function EmpleadoComponent_div_63_ng_container_17_Template_button_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const emp_r3 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.borrar(emp_r3.empleado_Id));\n    });\n    i0.ɵɵtext(16, \"Borrar\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const emp_r3 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(emp_r3.empleado_Id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate3(\"\", emp_r3.nombre, \" \", emp_r3.apellido_Paterno, \" \", emp_r3.apellido_Materno, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(8, 6, emp_r3.fecha_Nacimiento, \"dd/MM/yyyy\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(emp_r3.estatus.descripcion);\n  }\n}\nfunction EmpleadoComponent_div_63_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"table\", 44)(2, \"caption\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"thead\")(5, \"tr\")(6, \"th\");\n    i0.ɵɵtext(7, \"Empleado ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Nombre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"Fecha Nac.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\");\n    i0.ɵɵtext(13, \"Estatus\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(14, \"th\")(15, \"th\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"tbody\", 45);\n    i0.ɵɵtemplate(17, EmpleadoComponent_div_63_ng_container_17_Template, 17, 9, \"ng-container\", 46);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const data_r1 = ctx.ngIf;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Listado de empleados - \", data_r1.result.length, \" en Total\");\n    i0.ɵɵadvance(14);\n    i0.ɵɵproperty(\"ngForOf\", data_r1.result);\n  }\n}\nexport class EmpleadoComponent {\n  constructor(empleadoService) {\n    this.empleadoService = empleadoService;\n    this.frmSubmitted = false;\n    this.apagado = false;\n    this.empleados$ = empleadoService.getAll();\n    this.frmEmpleado = new FormGroup({\n      empleado_Id: new FormControl(\"\", Validators.required),\n      nombre: new FormControl({\n        value: \"\",\n        disabled: true\n      }, Validators.required),\n      apellido_Paterno: new FormControl({\n        value: \"\",\n        disabled: true\n      }, Validators.required),\n      apellido_Materno: new FormControl({\n        value: \"\",\n        disabled: true\n      }, Validators.required),\n      fecha_Nacimiento: new FormControl({\n        value: \"\",\n        disabled: true\n      }, Validators.required),\n      estatus_Id: new FormControl({\n        value: 0,\n        disabled: true\n      }, Validators.required)\n    });\n  }\n  ngOnInit() {}\n  nuevo() {\n    this.frmEmpleado.reset();\n    this.frmSubmitted = false;\n    this.frmEmpleado.patchValue({\n      empleado_Id: 0,\n      estatus_Id: 1\n    });\n    this.frmEmpleado.controls[\"empleado_Id\"].disable();\n  }\n  limpiar() {\n    this.frmEmpleado.reset();\n    this.frmSubmitted = false;\n    this.frmEmpleado.patchValue({\n      empleado_Id: \"\",\n      estatus_Id: 0\n    });\n    this.frmEmpleado.controls[\"empleado_Id\"].enable();\n  }\n  consultar() {\n    //console.log(this.frmEmpleado);\n    this.empleadoService.getById(this.frmEmpleado.value.empleado_Id).subscribe({\n      next: data => {\n        console.log(data);\n        this.frmEmpleado.patchValue(data.result);\n      }\n    });\n  }\n  seleccionar(empleado) {\n    empleado.fecha_Nacimiento = new Date(empleado.fecha_Nacimiento);\n    this.frmEmpleado.controls.fecha_Nacimiento.setValue(empleado.fecha_Nacimiento);\n    this.frmEmpleado.patchValue(empleado);\n    //this.frmEmpleado.controls[\"empleado_Id\"].disable();\n  }\n\n  guardar() {\n    this.frmSubmitted = true;\n    if (this.frmEmpleado.invalid) return;\n    const _entityEmpleado = this.frmEmpleado.value;\n    if (_entityEmpleado.empleado_Id > 0) {\n      this.empleadoService.update(_entityEmpleado).subscribe({\n        next: result => {\n          //console.log(result);\n          this.empleados$ = this.empleadoService.getAll();\n        }\n      });\n    } else {\n      this.empleadoService.save(_entityEmpleado).subscribe({\n        next: result => {\n          //console.log(result);\n          this.empleados$ = this.empleadoService.getAll();\n        }\n      });\n    }\n  }\n  borrar(empleado_Id) {\n    //console.log(this.frmEmpleado);\n    this.empleadoService.deleteById(empleado_Id).subscribe({\n      next: result => {\n        if (result) this.empleados$ = this.empleadoService.getAll();\n      }\n    });\n  }\n  isFieldValid(field) {\n    return !this.frmEmpleado.controls[field].valid && this.frmEmpleado.controls[field].touched || this.frmEmpleado.controls[field].untouched && this.frmSubmitted;\n  }\n  isEstatusValid() {\n    return this.frmSubmitted && this.frmEmpleado.value.estatus_Id == 0;\n  }\n  displayFieldCss(field) {\n    return {\n      'has-error': this.isFieldValid(field),\n      'has-feedback': this.isFieldValid(field)\n    };\n  }\n}\nEmpleadoComponent.ɵfac = function EmpleadoComponent_Factory(t) {\n  return new (t || EmpleadoComponent)(i0.ɵɵdirectiveInject(i1.EmpleadoService));\n};\nEmpleadoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EmpleadoComponent,\n  selectors: [[\"app-empleado\"]],\n  decls: 65,\n  vars: 15,\n  consts: [[3, \"formGroup\"], [1, \"col-12\"], [1, \"mb-9\"], [1, \"card\", \"shadow-none\", \"border\", \"my-4\"], [1, \"card-header\", \"p-4\", \"border-bottom\", \"bg-body\"], [1, \"row\", \"g-3\", \"justify-content-between\", \"align-items-center\"], [1, \"col-12\", \"col-md\"], [1, \"text-body\", \"mb-0\"], [1, \"col\", \"col-md-auto\"], [1, \"nav\", \"justify-content-end\", \"doc-tab-nav\", \"align-items-center\"], [\"role\", \"group\", \"aria-label\", \"Small button group\", 1, \"btn-group\", \"btn-group-sm\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-dark\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-dark\", 3, \"disabled\", \"click\"], [1, \"card-body\", \"p-0\"], [1, \"p-4\"], [1, \"row\", \"mb-4\"], [1, \"col-4\", \"form-group\"], [\"for\", \"empleado_id\", 1, \"form-label\", \"col-form-label-sm\", \"required\"], [1, \"col-6\"], [1, \"input-group\", \"input-group-sm\", \"mb-3\"], [\"type\", \"number\", \"id\", \"empleado_id\", \"name\", \"empleado_id\", \"formControlName\", \"empleado_Id\", \"aria-label\", \".form-control-sm\", 1, \"form-control\", \"form-control-sm\"], [\"type\", \"button\", \"id\", \"btn-consultar\", 1, \"btn\", \"btn-sm\", \"btn-outline-secondary\", 3, \"disabled\", \"click\"], [1, \"col-4\"], [\"for\", \"empleado_fecha_nacimiento\", 1, \"form-label\", \"col-form-label-sm\"], [\"type\", \"date\", \"id\", \"empleado_fecha_nacimiento\", \"name\", \"empleado_fecha_nacimiento\", \"formControlName\", \"fecha_Nacimiento\", \"aria-label\", \".form-control-sm\", 1, \"form-control\", \"form-control-sm\"], [\"for\", \"empleado_estatus\", 1, \"form-label\", \"col-form-label-sm\"], [1, \"col-8\"], [\"id\", \"empleado_estatus\", \"name\", \"empleado_estatus\", \"formControlName\", \"estatus_Id\", 1, \"form-select\", \"form-select-sm\"], [\"value\", \"0\", \"selected\", \"\"], [\"value\", \"1\"], [\"value\", \"2\"], [\"errorMsg\", \"Estatus es requerido\", 3, \"displayError\"], [1, \"row\"], [1, \"col-4\", 3, \"ngClass\"], [\"for\", \"empleado_nombre\", 1, \"form-label\", \"col-form-label-sm\", \"required\"], [\"type\", \"text\", \"id\", \"empleado_nombre\", \"name\", \"empleado_nombre\", \"formControlName\", \"nombre\", \"aria-label\", \".form-control-sm\", 1, \"form-control\", \"form-control-sm\", 3, \"disableControl\"], [\"errorMsg\", \"Nombre es requerido\", 3, \"displayError\"], [\"for\", \"empleado_nombre_paterno\", 1, \"form-label\", \"col-form-label-sm\", \"required\"], [\"type\", \"text\", \"id\", \"empleado_nombre_paterno\", \"name\", \"empleado_nombre_paterno\", \"formControlName\", \"apellido_Paterno\", \"aria-label\", \".form-control-sm\", 1, \"form-control\", \"form-control-sm\"], [\"errorMsg\", \"Apellido Paterno es requerido\", 3, \"displayError\"], [\"for\", \"empleado_nombre_materno\", 1, \"form-label\", \"col-form-label-sm\", \"required\"], [\"type\", \"text\", \"id\", \"empleado_nombre_materno\", \"name\", \"empleado_nombre_materno\", \"formControlName\", \"apellido_Materno\", \"aria-label\", \".form-control-sm\", 1, \"form-control\", \"form-control-sm\"], [\"errorMsg\", \"Apellido Materno es requerido\", 3, \"displayError\"], [\"class\", \"p-4\", 4, \"ngIf\"], [1, \"table\", \"table-sm\", \"caption-top\"], [1, \"table-group-divider\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-link\", 3, \"click\"]],\n  template: function EmpleadoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"form\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"div\", 6)(7, \"h4\", 7);\n      i0.ɵɵtext(8, \"Empleados\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"div\", 8)(10, \"nav\", 9)(11, \"div\", 10)(12, \"button\", 11);\n      i0.ɵɵlistener(\"click\", function EmpleadoComponent_Template_button_click_12_listener() {\n        return ctx.nuevo();\n      });\n      i0.ɵɵtext(13, \"Nuevo\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"button\", 12);\n      i0.ɵɵlistener(\"click\", function EmpleadoComponent_Template_button_click_14_listener() {\n        return ctx.guardar();\n      });\n      i0.ɵɵtext(15, \"Guardar\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"button\", 12);\n      i0.ɵɵlistener(\"click\", function EmpleadoComponent_Template_button_click_16_listener() {\n        return ctx.limpiar();\n      });\n      i0.ɵɵtext(17, \"Limpiar\");\n      i0.ɵɵelementEnd()()()()()();\n      i0.ɵɵelementStart(18, \"div\", 13)(19, \"div\", 14)(20, \"div\", 15)(21, \"div\", 16)(22, \"label\", 17);\n      i0.ɵɵtext(23, \"ID Empleado\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"div\", 18)(25, \"div\", 19);\n      i0.ɵɵelement(26, \"input\", 20);\n      i0.ɵɵelementStart(27, \"button\", 21);\n      i0.ɵɵlistener(\"click\", function EmpleadoComponent_Template_button_click_27_listener() {\n        return ctx.consultar();\n      });\n      i0.ɵɵtext(28, \"Consultar\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(29, \"div\", 22)(30, \"label\", 23);\n      i0.ɵɵtext(31, \" Fecha Nacimiento \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"div\", 18);\n      i0.ɵɵelement(33, \"input\", 24);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(34, \"div\", 22)(35, \"label\", 25);\n      i0.ɵɵtext(36, \"Estatus\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"div\", 26)(38, \"select\", 27)(39, \"option\", 28);\n      i0.ɵɵtext(40, \"-- Seleccione --\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(41, \"option\", 29);\n      i0.ɵɵtext(42, \"Activo\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(43, \"option\", 30);\n      i0.ɵɵtext(44, \"No activo\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(45, \"app-field-error-display\", 31);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(46, \"div\", 32)(47, \"div\", 33)(48, \"label\", 34);\n      i0.ɵɵtext(49, \"Nombre\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(50, \"input\", 35)(51, \"app-field-error-display\", 36);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(52, \"div\", 33)(53, \"label\", 37);\n      i0.ɵɵtext(54, \"Apellido Paterno\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(55, \"input\", 38)(56, \"app-field-error-display\", 39);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(57, \"div\", 33)(58, \"label\", 40);\n      i0.ɵɵtext(59, \"Apellido Materno\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(60, \"input\", 41)(61, \"app-field-error-display\", 42);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(62, \"hr\");\n      i0.ɵɵtemplate(63, EmpleadoComponent_div_63_Template, 18, 2, \"div\", 43);\n      i0.ɵɵpipe(64, \"async\");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"formGroup\", ctx.frmEmpleado);\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"disabled\", ctx.frmEmpleado.value.empleado_Id === \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", ctx.frmEmpleado.value.empleado_Id === \"\");\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"disabled\", ctx.frmEmpleado.controls.empleado_Id.value === 1);\n      i0.ɵɵadvance(18);\n      i0.ɵɵproperty(\"displayError\", ctx.isEstatusValid());\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngClass\", ctx.displayFieldCss(\"nombre\"));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"disableControl\", ctx.apagado);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"displayError\", ctx.isFieldValid(\"nombre\"));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngClass\", ctx.displayFieldCss(\"apellido_Paterno\"));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"displayError\", ctx.isFieldValid(\"apellido_Paterno\"));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngClass\", ctx.displayFieldCss(\"apellido_Materno\"));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"displayError\", ctx.isFieldValid(\"apellido_Materno\"));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(64, 13, ctx.empleados$));\n    }\n  },\n  dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.FormControlName, i4.DisableControlDirective, i5.FieldErrorDisplayComponent, i2.AsyncPipe, i2.DatePipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["FormControl","FormGroup","Validators","i0","EmpleadoComponent","constructor","empleadoService","empleados$","getAll","frmEmpleado","empleado_Id","required","nombre","value","disabled","apellido_Paterno","apellido_Materno","fecha_Nacimiento","estatus_Id","ngOnInit","nuevo","reset","frmSubmitted","patchValue","controls","disable","limpiar","enable","consultar","getById","subscribe","next","data","console","log","result","seleccionar","empleado","Date","setValue","guardar","invalid","_entityEmpleado","update","save","borrar","deleteById","isFieldValid","field","valid","touched","untouched","isEstatusValid","displayFieldCss","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Projects\\Core\\Empresa\\Empleados\\ClientApp\\src\\app\\empleado\\empleado.component.ts","C:\\Projects\\Core\\Empresa\\Empleados\\ClientApp\\src\\app\\empleado\\empleado.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { EmpleadoService, IEmpleado } from './empleado.service';\r\n\r\n@Component({\r\n  selector: 'app-empleado',\r\n  templateUrl: './empleado.component.html',\r\n  styleUrls: ['./empleado.component.css']\r\n})\r\nexport class EmpleadoComponent implements OnInit {\r\n\r\n  empleados$: Observable<any>;\r\n  //empleados = [];\r\n  frmEmpleado: FormGroup;\r\n  frmSubmitted: boolean = false;\r\n\r\n  apagado: boolean = false;\r\n\r\n  constructor(private empleadoService: EmpleadoService) {\r\n    this.empleados$ = empleadoService.getAll();\r\n\r\n    this.frmEmpleado = new FormGroup({\r\n      empleado_Id: new FormControl(\"\", Validators.required),\r\n      nombre: new FormControl({value:\"\", disabled: true }, Validators.required),\r\n      apellido_Paterno: new FormControl({ value: \"\", disabled: true }, Validators.required),\r\n      apellido_Materno: new FormControl({ value: \"\", disabled: true }, Validators.required),\r\n      fecha_Nacimiento: new FormControl({ value: \"\", disabled: true }, Validators.required),\r\n      estatus_Id: new FormControl({ value: 0, disabled: true }, Validators.required)\r\n    });\r\n\r\n    \r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n\r\n    \r\n  }\r\n\r\n  nuevo() {\r\n    this.frmEmpleado.reset();\r\n    this.frmSubmitted = false;\r\n    this.frmEmpleado.patchValue({ empleado_Id: 0, estatus_Id: 1 });\r\n    this.frmEmpleado.controls[\"empleado_Id\"].disable();\r\n  }\r\n\r\n\r\n  limpiar() {\r\n    this.frmEmpleado.reset();\r\n    this.frmSubmitted = false;\r\n    this.frmEmpleado.patchValue({ empleado_Id: \"\", estatus_Id: 0 });\r\n    this.frmEmpleado.controls[\"empleado_Id\"].enable();\r\n  }\r\n\r\n\r\n  consultar() {\r\n    //console.log(this.frmEmpleado);\r\n    this.empleadoService.getById(this.frmEmpleado.value.empleado_Id).subscribe({\r\n      next: (data: any) => {\r\n        console.log(data);\r\n        this.frmEmpleado.patchValue(data.result);\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  seleccionar(empleado: IEmpleado) {\r\n    empleado.fecha_Nacimiento = new Date(empleado.fecha_Nacimiento);\r\n    this.frmEmpleado.controls.fecha_Nacimiento.setValue(empleado.fecha_Nacimiento);\r\n    this.frmEmpleado.patchValue(empleado);\r\n    //this.frmEmpleado.controls[\"empleado_Id\"].disable();\r\n  }\r\n\r\n  guardar() {\r\n\r\n    this.frmSubmitted = true;\r\n\r\n    if (this.frmEmpleado.invalid) return;\r\n\r\n\r\n    const _entityEmpleado = this.frmEmpleado.value;\r\n\r\n    if (_entityEmpleado.empleado_Id > 0) {\r\n\r\n      this.empleadoService.update(_entityEmpleado).subscribe({\r\n        next: (result: any) => {\r\n          //console.log(result);\r\n          this.empleados$ = this.empleadoService.getAll();\r\n        }\r\n      });\r\n    } else {\r\n      this.empleadoService.save(_entityEmpleado).subscribe({\r\n        next: (result: any) => {\r\n          //console.log(result);\r\n          this.empleados$ = this.empleadoService.getAll();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  borrar(empleado_Id: number) {\r\n    //console.log(this.frmEmpleado);\r\n    this.empleadoService.deleteById(empleado_Id).subscribe({\r\n      next: (result: any) => {\r\n        if(result)\r\n          this.empleados$ = this.empleadoService.getAll();\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  isFieldValid(field: string) {\r\n    return (!this.frmEmpleado.controls[field].valid && this.frmEmpleado.controls[field].touched) ||\r\n      (this.frmEmpleado.controls[field].untouched && this.frmSubmitted);\r\n  }\r\n\r\n  isEstatusValid() {\r\n    return this.frmSubmitted && this.frmEmpleado.value.estatus_Id == 0;\r\n  }\r\n\r\n  displayFieldCss(field: string) {\r\n    return {\r\n      'has-error': this.isFieldValid(field),\r\n      'has-feedback': this.isFieldValid(field)\r\n    };\r\n  }\r\n}\r\n","<form [formGroup]=\"frmEmpleado\">\r\n  <!--<div class=\"row\">\r\n    <div class=\"position-relative\">\r\n      <div class=\"position-absolute top-0 end-0\">\r\n        <div class=\"btn-group btn-group-sm\" role=\"group\" aria-label=\"Small button group\">\r\n          <button type=\"button\" class=\"btn btn-outline-dark\">Nuevo</button>\r\n          <button type=\"button\" class=\"btn btn-outline-dark\">Consultar</button>\r\n          <button type=\"button\" class=\"btn btn-outline-dark\">Guardar</button>\r\n          <button type=\"button\" class=\"btn btn-outline-dark\">Limpiar</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>-->\r\n  <div class=\"col-12\">\r\n    <div class=\"mb-9\">\r\n      <div class=\"card shadow-none border my-4\">\r\n        <div class=\"card-header p-4 border-bottom bg-body\">\r\n          <div class=\"row g-3 justify-content-between align-items-center\">\r\n            <div class=\"col-12 col-md\">\r\n              <h4 class=\"text-body mb-0\">Empleados</h4>\r\n            </div>\r\n            <div class=\"col col-md-auto\">\r\n              <nav class=\"nav justify-content-end doc-tab-nav align-items-center\">\r\n                <div class=\"btn-group btn-group-sm\" role=\"group\" aria-label=\"Small button group\">\r\n                  <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"nuevo()\">Nuevo</button>\r\n                  <!--<button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"consultar()\">Consultar</button>-->\r\n                  <button type=\"button\" class=\"btn btn-outline-dark\" [disabled]=\"frmEmpleado.value.empleado_Id === ''\" (click)=\"guardar()\">Guardar</button>\r\n                  <button type=\"button\" class=\"btn btn-outline-dark\" [disabled]=\"frmEmpleado.value.empleado_Id === ''\" (click)=\"limpiar()\">Limpiar</button>\r\n                </div>\r\n              </nav>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"card-body p-0\">\r\n          <div class=\"p-4\">\r\n            <div class=\"row mb-4\">\r\n              <div class=\"col-4 form-group\">\r\n                <label for=\"empleado_id\" class=\"form-label col-form-label-sm required\">ID Empleado</label>\r\n                <div class=\"col-6\">\r\n                  <div class=\"input-group input-group-sm mb-3\">\r\n                    <input type=\"number\" id=\"empleado_id\" class=\"form-control form-control-sm\" name=\"empleado_id\" formControlName=\"empleado_Id\" aria-label=\".form-control-sm\">\r\n                    <button class=\"btn btn-sm btn-outline-secondary\" type=\"button\" id=\"btn-consultar\" [disabled]=\"frmEmpleado.controls.empleado_Id.value === 1\" (click)=\"consultar()\">Consultar</button>\r\n                  </div>\r\n                </div>\r\n\r\n              </div>\r\n              <div class=\"col-4\">\r\n                <label for=\"empleado_fecha_nacimiento\"\r\n                       class=\"form-label col-form-label-sm\">\r\n                  Fecha Nacimiento\r\n                </label>\r\n                <div class=\"col-6\">\r\n                  <input type=\"date\" id=\"empleado_fecha_nacimiento\"\r\n                         class=\"form-control form-control-sm\"\r\n                         name=\"empleado_fecha_nacimiento\"\r\n                         formControlName=\"fecha_Nacimiento\"\r\n\r\n                         aria-label=\".form-control-sm\">\r\n                </div>\r\n\r\n              </div>\r\n              <div class=\"col-4\">\r\n                <label for=\"empleado_estatus\" class=\"form-label col-form-label-sm\">Estatus</label>\r\n                <div class=\"col-8\">\r\n                  <select class=\"form-select form-select-sm\" id=\"empleado_estatus\" name=\"empleado_estatus\" formControlName=\"estatus_Id\">\r\n                    <option value=\"0\" selected>-- Seleccione --</option>\r\n                    <option value=\"1\">Activo</option>\r\n                    <option value=\"2\">No activo</option>\r\n                  </select>\r\n                  <app-field-error-display [displayError]=\"isEstatusValid()\" errorMsg=\"Estatus es requerido\">\r\n                  </app-field-error-display>\r\n                </div>\r\n\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n              <div class=\"col-4\" [ngClass]=\"displayFieldCss('nombre')\">\r\n                <label for=\"empleado_nombre\" class=\"form-label col-form-label-sm required\">Nombre</label>\r\n                <input type=\"text\" id=\"empleado_nombre\"\r\n                       class=\"form-control form-control-sm\"\r\n                       name=\"empleado_nombre\"\r\n                       formControlName=\"nombre\"\r\n                       [disableControl]=\"apagado\"\r\n                       aria-label=\".form-control-sm\">\r\n                <app-field-error-display [displayError]=\"isFieldValid('nombre')\" errorMsg=\"Nombre es requerido\">\r\n                </app-field-error-display>\r\n              </div>\r\n\r\n              <div class=\"col-4\" [ngClass]=\"displayFieldCss('apellido_Paterno')\">\r\n                <label for=\"empleado_nombre_paterno\" class=\"form-label col-form-label-sm required\">Apellido Paterno</label>\r\n                <input type=\"text\" id=\"empleado_nombre_paterno\" class=\"form-control form-control-sm\" name=\"empleado_nombre_paterno\" formControlName=\"apellido_Paterno\" aria-label=\".form-control-sm\">\r\n                <app-field-error-display [displayError]=\"isFieldValid('apellido_Paterno')\" errorMsg=\"Apellido Paterno es requerido\">\r\n                </app-field-error-display>\r\n              </div>\r\n\r\n              <div class=\"col-4\" [ngClass]=\"displayFieldCss('apellido_Materno')\">\r\n                <label for=\"empleado_nombre_materno\" class=\"form-label col-form-label-sm required\">Apellido Materno</label>\r\n                <input type=\"text\" id=\"empleado_nombre_materno\" class=\"form-control form-control-sm\" name=\"empleado_nombre_materno\" formControlName=\"apellido_Materno\" aria-label=\".form-control-sm\">\r\n                <app-field-error-display [displayError]=\"isFieldValid('apellido_Materno')\" errorMsg=\"Apellido Materno es requerido\">\r\n                </app-field-error-display>\r\n              </div>\r\n\r\n            </div>\r\n\r\n          </div>\r\n\r\n\r\n\r\n          <hr />\r\n\r\n\r\n\r\n          <div class=\"p-4\" *ngIf=\"empleados$ | async as data\">\r\n\r\n\r\n            <table class=\"table table-sm caption-top\">\r\n              <caption>Listado de empleados - {{ data.result.length }} en Total</caption>\r\n              <thead>\r\n                <tr>\r\n                  <th>Empleado ID</th>\r\n                  <th>Nombre</th>\r\n                  <th>Fecha Nac.</th>\r\n                  <th>Estatus</th>\r\n                  <th> </th>\r\n                  <th> </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody class=\"table-group-divider\">\r\n\r\n                <ng-container *ngFor=\"let emp of data.result\">\r\n                  <tr>\r\n                    <td>{{ emp.empleado_Id }}</td>\r\n                    <td>{{ emp.nombre }} {{ emp.apellido_Paterno }} {{ emp.apellido_Materno }}</td>\r\n                    <td>{{ emp.fecha_Nacimiento | date : \"dd/MM/yyyy\" }}</td>\r\n                    <td>{{ emp.estatus.descripcion }}</td>\r\n                    <td>\r\n                      <button class=\"btn btn-link\" (click)=\"seleccionar(emp)\">Seleccionar</button>\r\n                    </td>\r\n                    <td>\r\n                      <button class=\"btn btn-link\" (click)=\"borrar(emp.empleado_Id)\">Borrar</button>\r\n                    </td>\r\n                  </tr>\r\n                </ng-container>\r\n\r\n\r\n\r\n                <!--<tr>\r\n    <td>001</td>\r\n    <td>Leobardo Amarillas</td>\r\n    <td>10/11/1982</td>\r\n    <td>Activo</td>\r\n    <td>\r\n      <a href=\"#\">Seleccionar</a>\r\n    </td>\r\n  </tr>\r\n  <tr>\r\n    <td>001</td>\r\n    <td>Leobardo Amarillas</td>\r\n    <td>10/11/1982</td>\r\n    <td>Activo</td>\r\n    <td>\r\n      <a href=\"#\">Seleccionar</a>\r\n    </td>\r\n  </tr>\r\n  <tr>\r\n    <td>001</td>\r\n    <td>Leobardo Amarillas</td>\r\n    <td>10/11/1982</td>\r\n    <td>Activo</td>\r\n    <td>\r\n      <a href=\"#\">Seleccionar</a>\r\n    </td>\r\n  </tr>-->\r\n              </tbody>\r\n\r\n            </table>\r\n          </div>\r\n\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n\r\n</form>\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}